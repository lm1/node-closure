# node-closure

Closure library wrapper for node.js.
Does execute closure scripts in same execution context while (optionally) in distinct global scope, what is a right thing to do.

Enjoy!

## Installation

Just copy closure.js, or using npm:

    npm install closure

## Introduction

To apply closure to global object:

    require('closure').Closure(global);

To create separate instance of closure

    var goog = require('closure').Closure();

By default closure library base.js is expected to be found in
./closure-library/closure/goog/, to override this, say:

    var goog = require('closure').Closure({CLOSURE_BASE_PATH: 'closure/goog/'});

To fetch additional closure dependencies:

    goog.loadScript('my_deps.js');

To easily access other namespaces than goog either apply closure to
global object or provide own global object, i.e.

    var root = {};
    require('closure').Closure(root);
    //root.goog is goog namespace
    //root.soy is soy namespace

In case you want to use goog.require and goog.provide methods, you will have to add some extra code to make this work. Simply apply closure to global object and load the dependency file generated by closure by doing this (don't forget to replace the different paths for the correct ones in your case):

    global.CLOSURE_BASE_PATH = 'closure-library/closure/goog/';
    require('closure').Closure(global);
    goog.loadScript('src/js/deps.js');

Now you can easily do goog.provide('something') and goog.require('something') in your files.
